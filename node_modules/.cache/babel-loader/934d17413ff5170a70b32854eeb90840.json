{"ast":null,"code":"import _regeneratorRuntime from\"/home/maaviasghar4/Desktop/React-Bootcamp/quizapplication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/maaviasghar4/Desktop/React-Bootcamp/quizapplication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/maaviasghar4/Desktop/React-Bootcamp/quizapplication/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var shuffleArray=function shuffleArray(array){return _toConsumableArray(array).sort(function(){return Math.random()-0.5;});};export var getQuestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(totalQuestions,level){var fetchQuestions,_yield$fetchQuestions,results,quizQuestions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://opentdb.com/api.php?amount=\".concat(totalQuestions,\"&difficulty=\").concat(level,\"&type=multiple\"));case 2:fetchQuestions=_context.sent;_context.next=5;return fetchQuestions.json();case 5:_yield$fetchQuestions=_context.sent;results=_yield$fetchQuestions.results;quizQuestions=results.map(function(questionObj){var answerArray=[].concat(_toConsumableArray(questionObj.incorrect_answers),[questionObj.correct_answer]);return{question:questionObj.question,answer:questionObj.correct_answer,options:shuffleArray(answerArray)};});return _context.abrupt(\"return\",quizQuestions);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getQuestions(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"sources":["/home/maaviasghar4/Desktop/React-Bootcamp/quizapplication/src/Service/QuizApi.ts"],"names":["shuffleArray","array","sort","Math","random","getQuestions","totalQuestions","level","fetch","fetchQuestions","json","results","quizQuestions","map","questionObj","answerArray","incorrect_answers","correct_answer","question","answer","options"],"mappings":"qhBAEA,GAAMA,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,QACjB,oBAAIA,KAAJ,EAAWC,IAAX,CAAgB,iBAAMC,CAAAA,IAAI,CAACC,MAAL,GAAgB,GAAtB,EAAhB,CADiB,EAArB,CAGA,MAAO,IAAMC,CAAAA,YAAY,0FAAG,iBAAOC,cAAP,CAA+BC,KAA/B,uMACKC,CAAAA,KAAK,8CAAuCF,cAAvC,wBAAoEC,KAApE,mBADV,QAClBE,cADkB,qCAGGA,CAAAA,cAAc,CAACC,IAAf,EAHH,4CAGhBC,OAHgB,uBAGhBA,OAHgB,CAIlBC,aAJkB,CAIgBD,OAAO,CAACE,GAAR,CAAY,SAACC,WAAD,CAAmC,CACnF,GAAMC,CAAAA,WAAW,8BAAOD,WAAW,CAACE,iBAAnB,GAAsCF,WAAW,CAACG,cAAlD,EAAjB,CACA,MAAO,CACHC,QAAQ,CAAEJ,WAAW,CAACI,QADnB,CAEHC,MAAM,CAAEL,WAAW,CAACG,cAFjB,CAGHG,OAAO,CAAEpB,YAAY,CAACe,WAAD,CAHlB,CAAP,CAKH,CAPuC,CAJhB,iCAYjBH,aAZiB,wDAAH,kBAAZP,CAAAA,YAAY,gDAAlB","sourcesContent":["import {fetchedQuestions, quizQuestions} from '../Types/types'\n\nconst shuffleArray = (array: any[]) =>\n    [...array].sort(() => Math.random() - 0.5)\n\nexport const getQuestions = async (totalQuestions: number, level: string) : Promise<quizQuestions[]> => {\n    const fetchQuestions = await fetch(`https://opentdb.com/api.php?amount=${totalQuestions}&difficulty=${level}&type=multiple`)\n\n    const { results }  = await fetchQuestions.json()\n    const quizQuestions : quizQuestions[] = results.map((questionObj: fetchedQuestions) => {\n        const answerArray = [...questionObj.incorrect_answers, questionObj.correct_answer]\n        return {\n            question: questionObj.question,\n            answer: questionObj.correct_answer,\n            options: shuffleArray(answerArray)\n        }\n    })\n    return quizQuestions\n}"]},"metadata":{},"sourceType":"module"}